#!/usr/bin/perl -wnls
BEGIN {
	print for (
		"// DO NOT EDIT - autogenerated by pproc.pl",
		"",
		"const char *pproc_names[] = {",
	);
	$procs{0} = "(ttdvar reloc)" if $os eq "w";
}

$procs{$1} = $2 if /^\s*0x([0-9a-f]{8})\s+__(\w+)__procdef/;

END {
	my $num = 0;
	print qq(\t"$procs{$_}",\t// $num) and $num++ for sort keys %procs;
	print "};";
}
