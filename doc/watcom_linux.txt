How to build the OpenWatcom compilers for Linux, to compile the DOS version
of TTDPatch under Linux

- get .tar.bz2 OpenWatcom 1.0.3 source (www.openwatcom.com), unpack
  (note, you'll need about 400-500 MB space to compile it)
- the .tar.bz2 contains some old files, these must be deleted or the build
  will fail:
	find . -type f -mtime +`perl -le 'print int((time-1097461269)/24/3600)'`|xargs rm -v
  (this deletes all files older than Oct 10 2004)
- change OWROOT in setvars.sh, hardcode the path to where you unpacked the source
  (to the dir where you find setvars.sh); it looks like it should detect the
  path automatically but that doesn't work reliably for me
- import the setvars.ah settings into the current shell
	. setvars.sh
  (*don't* just run it as a shell script! It's dot space, not dot slash.)
- create the rel2 directory by running bat/mkrel2.sh
	chmod a+x bat/mkrel2.sh
	bat/mkrel2.sh
- start the build
	./build.sh
- wait till you get tons of errors saying "wcc386: command not found", and
  abort at that point (press Ctrl-C)
- fix the build process:
	cd bld/cc/bootstrp
	bwasm -zq -w4 -3 -fo=.obj ../a/code386.asm
	wlink format dos com op nodefault file code386.obj name xcode386.tmp disable 1023,1080
- restart the build:
	./build.sh
- build the rest we need:
	cd bld
	builder rel2 clib mathlib emu86 hdr
  (maybe, if the above doesn't make emu87.lib)
	cd emu86
	builder
	builder rel2
  this takes a while, there should be a way to make only the libs for a certain
  target system but I couldn't figure it out
- from rel2, copy the following directories to (e.g.) /usr/local/openwatcom:
	binl binw h lh lib286
- copy setvars.sh to /usr/local/openwatcom/setvars and edit these:
	export OWROOT=/usr/local/openwatcom
	export WATCOM=$OWROOT
	export LIB=$OWROOT/lib286
	export INCLUDE=$OWROOT/h
- test that you can compile TTDPatch now, if everything works remove
  the OpenWatcom source directory, or run
	cd bld
	builder clean
  to clean up everything you don't need

